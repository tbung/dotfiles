if [[ ${KEYMAP} == vicmd ]] ||
    [[ $1 = 'block' ]]; then
    set-cursor-shape 'block'
elif [[ ${KEYMAP} == main ]] ||
    [[ ${KEYMAP} == viins ]] ||
    [[ ${KEYMAP} = '' ]] ||
    [[ $1 = 'beam' ]]; then
    set-cursor-shape 'beam'
fi

# vim:ft=zsh
